<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/core-ajax/core-xhr.html">
<link rel="import" href="../../bower_components/core-icon/core-icon.html">
<link rel="import" href="../../bower_components/core-icons/av-icons.html">
<link rel="import" href="../app-globals/app-globals.html">
<link rel="import" href="../ce-volume-control/ce-volume-control.html">

<polymer-element name="ce-media-control" attributes="">
  <template>
    <style>
      #buttons {
        width: 89%;
        margin: 0 auto;
      }
    </style>

    <section>
      <core-xhr id="xhr"></core-xhr>
      <app-globals id="globals"></app-globals>
      <ce-volume-control></ce-volume-control>
      <div id="buttons">
        <paper-button class="custom" on-click="{{prevSong}}">
          <core-icon icon="av:skip-previous"></core-icon>
          <!-- < Prev -->
        </paper-button>
        <paper-button class="custom" on-click="{{stopPlaying}}">
          <core-icon icon="av:play-arrow"></core-icon>
          <core-icon icon="av:pause"></core-icon>
          <!-- Play/Pause -->
        </paper-button>
        <paper-button class="custom" on-click="{{nextSong}}">
          <core-icon icon="av:skip-next"></core-icon>
          <!-- Next > -->
        </paper-button>
      </div>
    </section>
  </template>
  <script>
    (function () {
      Polymer({
        // define element prototype here
        stopPlaying: function() {
          this.$.xhr.request({
            url: this.$.globals.values.url + 'player/play_pause',
            method: 'POST'
          });
        },

        prevSong: function() {
          this.$.xhr.request({
            url: this.$.globals.values.url + 'player/prev',
            method: 'POST'
          });
        },

        nextSong: function() {
          this.$.xhr.request({
            url: this.$.globals.values.url + 'player/next',
            method: 'POST'
          });
        }
      });
    })();
  </script>
</polymer-element>
